<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="https://unpkg.com/flowbite@1.4.5/dist/flowbite.min.css" />
    <script src="https://cdn.tailwindcss.com"></script>
  </head>

  <body class="bg-gray-50">
    <!--
    Welcome to Tailwind Play, the official Tailwind CSS playground!

    Everything here works just like it does when you're running Tailwind locally
    with a real build pipeline. You can customize your config file, use features
    like `@apply`, or even add third-party plugins.

    Feel free to play with this example if you're just learning, or trash it and
    start from scratch if you know enough to be dangerous. Have fun!
  -->
    <div class="flex items-center justify-between bg-black sticky" style="height:50px;">
      <a href="http://faceemotion.vitalify.asia/"><h1 class="title-font font-medium text-center" style="margin-left: 28px; color: #1890FF;">MAL FaceEmotion</h1></a>
      <div>
        <a href="https://contents.bownow.jp/forms/view/sid_2c2f4efae9529d8b42ee/d329f732-6399-4962-9f2d-bafac727c378?title=MAL%20FaceEmotion&referer=http%3A%2F%2Ffaceemotion.vitalify.asia%2Fen%2Findex.html">
          <button class="rounded-full mr-5 text-white">
            Contact
          </button>
        </a>
      </div>
    </div>
    <div class="bg-gray-50 py-7 px-4 flex flex-col justify-center relative overflow-hidden sm:py-6 pb-3">
      <div class="relative px-6 pt-8 pb-8 bg-white shadow-xl ring-1 ring-gray-900/5 sm:w-auto sm:mx-auto sm:rounded-lg sm:px-10">
        <div class="w-auto mx-auto">
          <div class="flex flex-col">
            <div class="flex flex-col md:flex-row flex-wraps">
              <div class="relative text-base leading-7 text-gray-600">
                <div>
                  <div id="uploadImg" class="relative place-items-center" style="display: none;">
                    <div class="wrapper absolute relative align-center justify-center border border-gray-300">
                      <img id="img" class="object-scale-down w-[520px] h-[300px] md:h-[390px]"></img>
                      <div id="dragFile" class="absolute z-10 bottom-2/4 px-36">
                        <label class="items-center text-center space-x-2">
                          <span class="font-medium text-gray-600"> Drag files to Attach, or
                            <span class="text-blue-600 underline cursor-pointer">browse</span>
                          </span>
                          <input type="file" class="hidden" name="file_upload" id="imageInput" accept="image/*">
                        </label>
                      </div>
                    </div>
                  </div>
                  <div id="movie" style="display:none" class="border border-gray-300">
                    <video id="videoClip" playsinline class="w-[520px] sm:h-[390px] md:-h[390px] lg:h-[390px] xl:h-[390px]" style="-webkit-transform: scaleX(-1); transform: scaleX(-1);" controls loop src="video.mp4"></video>
                  </div>
                  <video
                    id="webcam"
                    playsinline
                    class="w-[520px] object-cover md:h-[390px]"
                    style="-webkit-transform: scaleX(-1); transform: scaleX(-1);"
                  ></video>
                </div>
                <canvas id="output" class="absolute bottom-0 left-0 "></canvas>
                <div id="stats" class="absolute top-3 h-3.5 right-56 overflow-hidden left-2"></div>
              </div>
              <div class="z-40 sticky order-first md:order-none md:col-span-1 md:w-0 md:pl-5 pb-2 md:pb-0">
                <button id="dropdown_button" class="w-full sm:w-56 md:w-56 lg:w-56 xl-56 text-white justify-between rounded text-base px-4 py-2.5 text-center inline-flex items-center" style="background-color: #1890FF;" type="button" data-dropdown-toggle="dropdownInfo">Webcam
                  <svg class="w-4 h-4 ml-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
                  </svg>
                </button>
                <div class="w-full sm:w-56 md:w-56 lg:w-56 xl-56 hidden bg-white text-base list-none divide-y divide-gray-100 rounded shadow my-4" id="dropdownInfo">
                  <ul class="py-1" aria-labelledby="dropdown_button">
                    <li>
                      <button class="text-sm hover:bg-gray-100 text-gray-700 block px-4 py-2 w-full sm:w-56 md:w-56 lg:w-56 xl:w-56 justify-between cursor-pointer" id="btnPicture">Picture</button>
                    </li>
                    <li>
                      <button class="text-sm hover:bg-gray-100 text-gray-700 block px-4 py-2 w-full sm:w-56 md:w-56 lg:w-56 xl:w-56 cursor-pointer" id="btnVideoClip">Video</button>
                    </li>
                    <li>
                      <button class="text-sm hover:bg-gray-100 text-gray-700 block px-4 py-2 w-full sm:w-56 md:w-56 lg:w-56 xl:w-56 cursor-pointer" id="btnWebcam">Webcam</button>
                    </li>
                  </ul>
                </div>
              </div>
              <div class="reverse divided-gray-100 z-20 sticky sm:pl-5 md:pl-0 sm:pt-6 md:pt-[4rem]">
                <div class="flex items-center justify-center mb-5">
                  <div class="inline-flex">
                    <div class="block">
                      <ul class="flex border-b">
                        <li id="btn_emotions" class="mr-6 text-sm hover:text-blue-500 border-transparent border-b hover:border-b-blue-500 cursor-pointer">
                          <button>Emotions</button>
                        </li>
                        <li id="btn_positive-active" class="mr-6 text-sm hover:text-blue-500 border-transparent border-b hover:border-b-blue-500 cursor-pointer">
                          <button>Active/Positive</button>
                        </li>
                        <li id="btn_vibes" class="mr-6 text-sm hover:text-blue-500 border-transparent border-b hover:border-b-blue-500 cursor-pointer">
                          <button>Vibes</button>
                        </li>
                        <!--<li id="btn_all" class="w-14 text-sm hover:text-blue-500 border-transparent border-b hover:border-b-blue-500 text-center cursor-pointer">
                          <button>All</button>
                        </li>-->
                      </ul>
                    </div>
                  </div>
                </div>
                <div>
                  <div class="flex justify-between" id="label_neutral">
                    <div class="mb-1 text-sm font-normal">Neutral</div>
                    <span id="value_neutral_label" class="text-sm font-normal dark:text-white">%</span>
                  </div>
                  <div id="bar_neutral" class="w-full bg-gray-200 rounded-full h-2.5 mb-2">
                    <div id="value_neutral" class="h-2.5 rounded-full" style="background-color: #BAE7FF; width: 0%"></div>
                  </div>
                  <div class="flex justify-between mb-1" id="label_happy">
                    <div class="mb-1 text-sm font-normal">Happy</div>
                    <span id="value_happy_label" class="text-sm font-normal dark:text-white">%</span>
                  </div>
                  <div class="w-full bg-gray-200 rounded-full h-2.5 mb-2" id="bar_happy">
                    <div id="value_happy" class="h-2.5 rounded-full" style="background-color: #1890FF;width: 0%"></div>
                  </div>
                  <div class="flex justify-between mb-1" id="label_sad">
                    <div class="mb-1 text-sm font-normal">Sad</div>
                    <span id="value_sad_label" class="text-sm font-normal dark:text-white">%</span>
                  </div>
                  <div class="w-full bg-gray-200 rounded-full h-2.5 mb-2" id="bar_sad">
                    <div id="value_sad" class="bg-red-600 h-2.5 rounded-full" style="background-color: #597EF7; width: 0%"></div>
                  </div>
                  <div class="flex justify-between mb-1" id="label_angry">
                    <div class="mb-1 text-sm font-normal">Angry</div>
                    <span id="value_angry_label" class="text-sm font-normal dark:text-white">%</span>
                  </div>
                  <div class="w-full bg-gray-200 rounded-full h-2.5 mb-2" id="bar_angry">
                    <div id="value_angry" class="bg-green-600 h-2.5 rounded-full" style="background-color: #FF4D4F; width: 0%"></div>
                  </div>
                  <div class="flex justify-between mb-1" id="label_surprised">
                    <div class="mb-1 text-sm font-normal">Surprised</div>
                    <span id="value_suprised_label" class="text-sm font-normal dark:text-white">%</span>
                  </div>
                  <div class="w-full bg-gray-200 rounded-full h-2.5 mb-2" id="bar_surprised">
                    <div id="value_suprised" class="h-2.5 rounded-full" style="background-color: #FFC53D;width: 0%"></div>
                  </div>
                  <div class="border-t mt-4 mb-2" id="border_positive-active"></div>
                  <div>
                    <div class="flex justify-between mb-1" id="label_positive">
                      <div class="mb-1 text-sm font-normal">Positive</div>
                      <span id="value_positive_label" class="text-sm font-normal dark:text-white">%</span>
                    </div>
                    <div class="w-full bg-gray-200 rounded-full h-2.5 mb-2" id="bar_positive">
                      <div id="value_positive" class="h-2.5 rounded-full" style="background-color: #434343;width: 0%"></div>
                    </div>
      
                    <div class="flex justify-between mb-1" id="label_active">
                      <div class="mb-1 text-sm font-normal">Active</div>
                      <span id="value_active_label" class="text-sm font-normal dark:text-white">%</span>
                    </div>
                    <div class="w-full bg-gray-200 rounded-full h-2.5 mb-2" id="bar_active">
                      <div id="value_active" class="h-2.5 rounded-full" style="background-color: #73D13D;width: 0%"></div>
                    </div>
                    <div class="border-t mt-5 mb-5" id="border_vibes"></div>
                    <div class="flex justify-between mb-1" id="label_vibes">
                      <div class="mb-1 text-sm font-normal">Vibes</div>
                      <span id="value_vibe_label" class="text-sm font-normal dark:text-white">%</span>
                    </div>
                    <div class="w-full bg-gray-200 rounded-full h-2.5 mb-3" id="bar_vibes">
                      <div id="value_vibe" class="h-2.5 rounded-full" style="background-color: #F759AB;width: 0%"></div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <div class="md:w-[425px] lg:w-[520px] xl:w-[520px] mt-2 md:h-[290px]">
                <canvas id="myChart" class="overflow-hidden"></canvas>
                <div class="flex-col relative">
                  <div class="flex flex-wraps inline-flex py-2 pl-[2.25rem]">
                    <div id="block_angry"class="flex items-center">
                      <span class="block bg-red-500 mr-1" style="width: 12px; height: 13px"></span>
                      <span class="text-sm font-normal mr-6">ANGRY</span>
                    </div>
                    <div id="block_neutral" class="flex items-center">
                      <span class="block mr-1" style="background-color: #BAE7FF;width: 12px; height: 13px"></span>
                      <span class="text-sm font-normal mr-6">NEUTRAL</span>
                    </div>
                    <div id="block_happy" class="flex items-center">
                      <span class="block mr-1" style="background-color: #1890FF;width: 12px; height: 13px"></span>
                      <span class="text-sm font-normal mr-6">HAPPY</span>
                    </div>
                  </div>
                  <div class="flex md:flex-row inline-flex pl-[5rem] md:pl-0">
                    <div id="block_sad" class="flex items-center">
                      <span class="block mr-1" style="background-color: #597EF7;width: 12px; height: 13px"></span>
                      <span class="text-sm font-normal mr-6">SAD</span>
                    </div>
                    <div id="block_supprise" class="flex items-center">
                      <span class="block mr-1" style="background-color: #FFC53D;width: 12px; height: 13px"></span>
                      <span class="text-sm font-normal mr-6">SURPRISE</span>
                    </div>
                  </div>
                  <div class="flex inline-flex pl-[2.25rem] md:pl-[7.7rem]">
                    <div id="block_positive" class="flex items-center">
                      <span class="block mr-1" style="background-color: #434343;width: 12px; height: 13px"></span>
                      <span class="text-sm font-normal mr-6">POSITIVE</span>
                    </div>
                    <div id="block_active" class="flex items-center">
                      <span class="block mr-1" style="background-color: #73D13D;width: 12px; height: 13px"></span>
                      <span class="text-sm font-normal mr-7">ACTIVE</span>
                    </div>
                    <div id="block_vibe" class="flex items-center">
                      <span class="block mr-1" style="background-color: #F759AB;width: 12px; height: 13px"></span>
                      <span class="text-sm font-normal mr-6">VIBE</span>
                    </div>
                  </div>
                </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="bg-gray-50 text-center py-4">
        <button id="btn_privacy" class="text-gray-400" data-modal-toggle="privacy">©Vitalify Asia 2022 All rights reserved. Privacy</div>
    </div>
    <div id="authorized_camera" aria-hidden="true" tabindex="-1"  class="hidden overflow-y-auto overflow-x-hidden fixed top-0 right-0 left-0 z-50 w-full md:inset-0 h-modal md:h-full flex-col justify-center">
      <div class="relative p-4 w-full max-w-2xl h-full md:h-auto mx-auto">
        <div class="relative bg-white rounded-lg shadow dark:bg-gray-700">
            <!-- Modal header -->
            <div class="flex justify-between items-start p-4 rounded-t border-b dark:border-gray-600">
                <h3 class="text-xl font-semibold text-gray-900 dark:text-white">
                  Allow us to use your camera
                </h3>
                <button id="btn_close_popup" type="button" class="text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm p-1.5 ml-auto inline-flex items-center dark:hover:bg-gray-600 dark:hover:text-white" data-modal-toggle="authorized_camera">
                    <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"></path></svg>  
                </button>
            </div>
            <!-- Modal body -->
            <div class="p-6 space-y-6">
                <p class="text-base leading-relaxed text-gray-500 dark:text-gray-400">
                  We need access to your camera. We will ask you to confirm this decision on each browser and computer you use.
                </p>
                <p class="text-base leading-relaxed text-gray-500 dark:text-gray-400">
                  All info is processed in the browser and it is not stored anywhere.
                </p>
            </div>
            <!-- Modal footer -->
            <div class="flex items-center p-6 space-x-2 rounded-b border-t border-gray-200 dark:border-gray-600">
                <button id="remember_no_popup" data-modal-toggle="authorized_camera" type="button" class="text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800">Don't display this again</button>
            </div>
        </div> 
      </div>
    </div>
    <div id="privacy" aria-hidden="true" tabindex="-1"  class="hidden overflow-y-auto overflow-x-hidden fixed top-0 right-0 left-0 z-50 w-full md:inset-0 h-modal md:h-full flex-col justify-center">
      <div class="relative p-4 w-full max-w-2xl h-full md:h-auto mx-auto">
        <div class="relative bg-white rounded-lg shadow dark:bg-gray-700">
            <div class="flex justify-between items-start p-4 rounded-t border-b dark:border-gray-600">
                <h3 class="text-xl font-semibold text-gray-900 dark:text-white">
                  Welcome to Face Emotion Demo.
                </h3>
                <button id="btn_close_privacy" type="button" class="text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm p-1.5 ml-auto inline-flex items-center dark:hover:bg-gray-600 dark:hover:text-white" data-modal-toggle="privacy">
                    <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"></path></svg>  
                </button>
            </div>
            <div class="p-6 space-y-6">
              <div>Our Privacy Policy explains how we check your emotion in real time, uploaded videos, pictures from your device and show the result of the emotion value to screen by graph.</div>
              <br>By using our Service you understand and agree that we are providing a platform for you to check emotion and to check the transition.</br>
              <br>■ Information you provide us when you use our services:</br>
              <br>- Face recognition. Our service use face recognition technology to recognize faces in your camera (or video/picture you uploaded). We detect and use face from your picture to predict emotions of face. These information of face emotion is not shared with any third parties and only store in detecting time of each frame within your browser.</br>
              <br>- Camera. Our service require to collect video from your device’s camera. We’ll access your camera only after you give us your consent.</br>
              <br>■ All information will be destroyed after you close this demo.</br>
            </div>
        </div> 
      </div>
    </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/dat-gui/0.7.6/dat.gui.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/stats.js/r16/Stats.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@2.8.0/dist/Chart.min.js"></script>
    <script src="https://unpkg.com/@themesberg/flowbite@latest/dist/flowbite.bundle.js"></script>
    <script src="index.js"></script>
  </body>
</html>
